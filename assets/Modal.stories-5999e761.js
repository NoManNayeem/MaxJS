import{j as t}from"./jsx-runtime-1a9d9a93.js";import{r as s}from"./index-8b3efc3f.js";import{u as re,f as le,a as ie,P as ce,L as ue,m as I}from"./motion-b5b1ff59.js";import{B as C}from"./Button-4621c40a.js";import"./_commonjsHelpers-de833af9.js";function se(){const e=s.useRef(!1);return re(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function de(){const e=se(),[n,r]=s.useState(0),a=s.useCallback(()=>{e.current&&r(n+1)},[n]);return[s.useCallback(()=>le.postRender(a),[a]),n]}class me extends s.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pe({children:e,isPresent:n}){const r=s.useId(),a=s.useRef(null),x=s.useRef({width:0,height:0,top:0,left:0});return s.useInsertionEffect(()=>{const{width:d,height:p,top:c,left:h}=x.current;if(n||!a.current||!d||!p)return;a.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            top: ${c}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[n]),s.createElement(me,{isPresent:n,childRef:a,sizeRef:x},s.cloneElement(e,{ref:a}))}const V=({children:e,initial:n,isPresent:r,onExitComplete:a,custom:x,presenceAffectsLayout:d,mode:p})=>{const c=ie(fe),h=s.useId(),u=s.useMemo(()=>({id:h,initial:n,isPresent:r,custom:x,onExitComplete:o=>{c.set(o,!0);for(const l of c.values())if(!l)return;a&&a()},register:o=>(c.set(o,!1),()=>c.delete(o))}),d?void 0:[r]);return s.useMemo(()=>{c.forEach((o,l)=>c.set(l,!1))},[r]),s.useEffect(()=>{!r&&!c.size&&a&&a()},[r]),p==="popLayout"&&(e=s.createElement(pe,{isPresent:r},e)),s.createElement(ce.Provider,{value:u},e)};function fe(){return new Map}function xe(e){return s.useEffect(()=>()=>e(),[])}const y=e=>e.key||"";function he(e,n){e.forEach(r=>{const a=y(r);n.set(a,r)})}function ge(e){const n=[];return s.Children.forEach(e,r=>{s.isValidElement(r)&&n.push(r)}),n}const ye=({children:e,custom:n,initial:r=!0,onExitComplete:a,exitBeforeEnter:x,presenceAffectsLayout:d=!0,mode:p="sync"})=>{const c=s.useContext(ue).forceRender||de()[0],h=se(),u=ge(e);let o=u;const l=s.useRef(new Map).current,v=s.useRef(o),g=s.useRef(new Map).current,f=s.useRef(!0);if(re(()=>{f.current=!1,he(u,g),v.current=o}),xe(()=>{f.current=!0,g.clear(),l.clear()}),f.current)return s.createElement(s.Fragment,null,o.map(i=>s.createElement(V,{key:y(i),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:d,mode:p},i)));o=[...o];const j=v.current.map(y),F=u.map(y),ne=j.length;for(let i=0;i<ne;i++){const m=j[i];F.indexOf(m)===-1&&!l.has(m)&&l.set(m,void 0)}return p==="wait"&&l.size&&(o=[]),l.forEach((i,m)=>{if(F.indexOf(m)!==-1)return;const L=g.get(m);if(!L)return;const ae=j.indexOf(m);let M=i;if(!M){const oe=()=>{l.delete(m);const _=Array.from(g.keys()).filter(E=>!F.includes(E));if(_.forEach(E=>g.delete(E)),v.current=u.filter(E=>{const q=y(E);return q===m||_.includes(q)}),!l.size){if(h.current===!1)return;c(),a&&a()}};M=s.createElement(V,{key:y(L),isPresent:!1,onExitComplete:oe,custom:n,presenceAffectsLayout:d,mode:p},L),l.set(m,M)}o.splice(ae,0,M)}),o=o.map(i=>{const m=i.key;return l.has(m)?i:s.createElement(V,{key:y(i),isPresent:!0,presenceAffectsLayout:d,mode:p},i)}),s.createElement(s.Fragment,null,l.size?o:o.map(i=>s.cloneElement(i)))},b=({isOpen:e,onClose:n,title:r,children:a,size:x="md",useCss:d,animate:p=!0,closeOnOverlayClick:c=!0,closeOnEscape:h=!0,showCloseButton:u=!0,className:o=""})=>{s.useEffect(()=>{if(!h)return;const f=j=>{j.key==="Escape"&&n()};return e&&(document.addEventListener("keydown",f),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",f),document.body.style.overflow="unset"}},[e,n,h]);const l=()=>d?"modal":`w-full ${{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-full mx-4"}[x]} mx-auto`,v=d?"modal-overlay":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",g=d?"modal-content":`bg-white rounded-lg shadow-xl ${l()} ${o}`;return e?t.jsx(ye,{children:e&&t.jsx(I.div,{className:v,onClick:c?n:void 0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:t.jsxs(I.div,{className:g,onClick:f=>f.stopPropagation(),initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},children:[r&&t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r}),u&&t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"p-6",children:a})]})})}):null};try{b.displayName="Modal",b.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},size:{defaultValue:{value:"md"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"full"'}]}},useCss:{defaultValue:null,description:"",name:"useCss",required:!1,type:{name:"boolean"}},animate:{defaultValue:{value:"true"},description:"",name:"animate",required:!1,type:{name:"boolean"}},closeOnOverlayClick:{defaultValue:{value:"true"},description:"",name:"closeOnOverlayClick",required:!1,type:{name:"boolean"}},closeOnEscape:{defaultValue:{value:"true"},description:"",name:"closeOnEscape",required:!1,type:{name:"boolean"}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const we={title:"Components/Modal",component:b,tags:["autodocs"],argTypes:{isOpen:{control:"boolean"},title:{control:"text"},size:{control:"select",options:["sm","md","lg","xl","full"]},useCss:{control:"boolean"},animate:{control:"boolean"},closeOnOverlayClick:{control:"boolean"},closeOnEscape:{control:"boolean"},showCloseButton:{control:"boolean"}}},S=({args:e})=>{const[n,r]=s.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(C,{label:"Open Modal",onClick:()=>r(!0)}),t.jsxs(b,{...e,isOpen:n,onClose:()=>r(!1),children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"This is a modal dialog. You can put any content here."}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(C,{label:"Cancel",variant:"outline",onClick:()=>r(!1)}),t.jsx(C,{label:"Confirm",onClick:()=>r(!1)})]})]})]})},k={render:e=>t.jsx(S,{args:e}),args:{title:"Modal Title"}},w={render:e=>t.jsx(S,{args:e}),args:{}},Ce=()=>{const[e,n]=s.useState(null);return t.jsxs("div",{className:"flex gap-2",children:[["sm","md","lg","xl"].map(r=>t.jsx(C,{label:`Open ${r.toUpperCase()}`,onClick:()=>n(r)},r)),e&&t.jsx(b,{isOpen:!0,onClose:()=>n(null),title:`${e.toUpperCase()} Modal`,size:e,children:t.jsxs("p",{children:["This is a ",e," modal."]})})]})},O={render:()=>t.jsx(Ce,{})},be=e=>{const[n,r]=s.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(C,{label:"Open Form Modal",onClick:()=>r(!0)}),t.jsx(b,{...e,isOpen:n,onClose:()=>r(!1),title:"Contact Form",size:"lg",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),t.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),t.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter your message"})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(C,{label:"Cancel",variant:"outline",onClick:()=>r(!1)}),t.jsx(C,{label:"Send",onClick:()=>r(!1)})]})]})})]})},N={render:be},R={render:e=>t.jsx(S,{args:e}),args:{title:"Animated Modal",animate:!0}},z={render:e=>t.jsx(S,{args:e}),args:{title:"Modal with Overlay Click Disabled",closeOnOverlayClick:!1}};var P,$,T;k.parameters={...k.parameters,docs:{...(P=k.parameters)==null?void 0:P.docs,source:{originalSource:`{
  render: args => <ModalExample args={args} />,
  args: {
    title: 'Modal Title'
  }
}`,...(T=($=k.parameters)==null?void 0:$.docs)==null?void 0:T.source}}};var B,A,U;w.parameters={...w.parameters,docs:{...(B=w.parameters)==null?void 0:B.docs,source:{originalSource:`{
  render: args => <ModalExample args={args} />,
  args: {}
}`,...(U=(A=w.parameters)==null?void 0:A.docs)==null?void 0:U.source}}};var D,K,W;O.parameters={...O.parameters,docs:{...(D=O.parameters)==null?void 0:D.docs,source:{originalSource:`{
  render: () => <SizesExample />
}`,...(W=(K=O.parameters)==null?void 0:K.docs)==null?void 0:W.source}}};var G,H,Y;N.parameters={...N.parameters,docs:{...(G=N.parameters)==null?void 0:G.docs,source:{originalSource:`{
  render: FormModalExample
}`,...(Y=(H=N.parameters)==null?void 0:H.docs)==null?void 0:Y.source}}};var J,Q,X;R.parameters={...R.parameters,docs:{...(J=R.parameters)==null?void 0:J.docs,source:{originalSource:`{
  render: args => <ModalExample args={args} />,
  args: {
    title: 'Animated Modal',
    animate: true
  }
}`,...(X=(Q=R.parameters)==null?void 0:Q.docs)==null?void 0:X.source}}};var Z,ee,te;z.parameters={...z.parameters,docs:{...(Z=z.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  render: args => <ModalExample args={args} />,
  args: {
    title: 'Modal with Overlay Click Disabled',
    closeOnOverlayClick: false
  }
}`,...(te=(ee=z.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};const Oe=["Default","WithoutTitle","Sizes","FormModal","Animated","NoCloseOnOverlay"];export{R as Animated,k as Default,N as FormModal,z as NoCloseOnOverlay,O as Sizes,w as WithoutTitle,Oe as __namedExportsOrder,we as default};
